# Credential Mapping Configuration
# Maps credential names to Vault paths and injection patterns

# Credential mode: simple or expert
# - simple: Direct YAML lookup, no NPL tracking (default)
# - expert: NPL-based selection with full audit trail
mode: simple

# Credential mappings: credential_name -> vault configuration
credentials:
  # GitHub credentials
  work_github:
    vault_path: "secret/data/tenants/{tenant}/users/{user}/github/work"
    injection:
      type: env  # or "header"
      mapping:
        token: "GITHUB_TOKEN"
    
  personal_github:
    vault_path: "secret/data/tenants/{tenant}/users/{user}/github/personal"
    injection:
      type: env
      mapping:
        token: "GITHUB_TOKEN"
  
  # Slack credentials
  prod_slack:
    vault_path: "secret/data/tenants/{tenant}/services/slack/prod"
    injection:
      type: env
      mapping:
        token: "SLACK_TOKEN"
    
  dev_slack:
    vault_path: "secret/data/tenants/{tenant}/services/slack/dev"
    injection:
      type: env
      mapping:
        token: "SLACK_TOKEN"
  
  # Database credentials
  admin_db:
    vault_path: "secret/data/tenants/{tenant}/services/database/admin"
    injection:
      type: env
      mapping:
        username: "DB_USER"
        password: "DB_PASS"
  
  readonly_db:
    vault_path: "secret/data/tenants/{tenant}/services/database/readonly"
    injection:
      type: env
      mapping:
        username: "DB_USER"
        password: "DB_PASS"

# Service-to-credential mapping (simple mode only)
# Maps each service to its default credential
service_defaults:
  github: work_github
  slack: prod_slack
  database: readonly_db
  duckduckgo: default  # No credentials needed
  
# Default credential (fallback)
default_credential:
  vault_path: "secret/data/tenants/{tenant}/users/{user}/default"
  injection:
    type: env
    mapping:
      api_key: "API_KEY"
