# Dynamic MCP Service Configuration
# This file defines all upstream services and their tools.
# The Gateway reads this config for tool listing and upstream routing.

services:
  - name: "duckduckgo"
    displayName: "Duckduckgo"
    type: "MCP_STDIO"
    enabled: true
    command: "docker run -i --rm mcp/duckduckgo"
    args: []
    requiresCredentials: false
    description: "A Model Context Protocol (MCP) server that provides web search capabilities through DuckDuckGo, w..."
    tools:
      - name: "search"
        description: "Search DuckDuckGo and return formatted results.      Args:         query: The search query string         max_results: Maximum number of results to return (default: 10)         ctx: MCP context for logging"
        inputSchema:
          type: "object"
          properties:
            query:
              type: "string"
              description: ""
            max_results:
              type: "integer"
              description: ""
          required:
            - "query"
        enabled: true
      - name: "fetch_content"
        description: "Fetch and parse content from a webpage URL.      Args:         url: The webpage URL to fetch content from         ctx: MCP context for logging"
        inputSchema:
          type: "object"
          properties:
            url:
              type: "string"
              description: ""
          required:
            - "url"
        enabled: true
  - name: "gemini"
    displayName: "Google Gemini"
    type: "MCP_STDIO"
    enabled: true
    command: "npx"
    args:
      - "-y"
      - "@modelcontextprotocol/server-google-gemini"
    requiresCredentials: true
    description: "Google Gemini AI API for text generation and chat"
    tools:
      - name: "gemini_default"
        description: "Default tool for gemini - run 'Discover tools' to find actual tools"
        inputSchema:
          type: "object"
          properties: {}
          required: []
        enabled: true
user_access:
  default_template:
    enabled: false
    description: "Default access template (disabled - grant explicit per-user access)"
    tools: {}
  users:
    - userId: "jarvis@acme.com"
      keycloakId: "14a31f3a-233a-4838-a799-4d544c08b7af"
      displayName: "Jarvis AI Agent"
      createdAt: "2026-02-09T00:20:04.340Z"
      tools:
        duckduckgo:
          - "*"
      vaultPaths: {}
    - userId: "dave@acme.com"
      keycloakId: "bb95e6ee-a168-44cb-985d-5af2e4cae38d"
      displayName: "Dave Beckham"
      createdAt: "2026-02-09T00:20:46.940Z"
      tools:
        duckduckgo:
          - "*"
        gemini:
          - "gemini_default"
      vaultPaths: {}
